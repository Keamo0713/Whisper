Whisper: Anonymous Confessions with AI Advice
Table of Contents
About Whisper

Features

Technologies Used

Setup and Installation

Prerequisites

Project Setup

API Key Configuration

Running the Application

Usage

Project Structure

Future Enhancements

License

About Whisper
Whisper is a web application that provides a safe and anonymous space for users to share their confessions. Upon submitting a confession, an AI assistant offers empathetic advice. Users then have the option to anonymously publish their confession and the AI's advice to a public feed, fostering a sense of shared experience and support.

The application is designed with a sleek, dark theme, featuring transparent elements and subtle visual cues for a professional and immersive user experience.

Features
Anonymous Confession Submission: Users can submit their confessions without revealing their identity.

AI-Powered Advice: Receive empathetic and concise advice generated by the Google Gemini API.

Anonymous Publishing: Option to publish confessions and their advice to a public feed.

Public Confession Feed: View a table of all anonymously published confessions.

Modern UI: Clean, professional design with a dark theme, white outlines, and subtle animations.

Technologies Used
Backend: ASP.NET Core MVC (C#)

Frontend: Razor Pages, HTML, Tailwind CSS (via CDN)

AI Integration: Google Gemini API (gemini-2.0-flash)

Package Management: NuGet

Setup and Installation
Prerequisites
Before you begin, ensure you have the following installed on your machine:

.NET SDK 9.0 or later.

A code editor (e.g., Visual Studio Code, Visual Studio).

Access to the Google Gemini API and an API Key.

Project Setup
Follow these command-line steps in your terminal:

Create the ASP.NET Core MVC project:

dotnet new mvc -n Whisper

Navigate into the project directory:

cd Whisper

Create necessary folders and files:

mkdir Models
type nul > Models\Confession.cs  # For Windows
# touch Models/Confession.cs    # For macOS/Linux

mkdir Services
type nul > Services\GeminiApiService.cs # For Windows
# touch Services/GeminiApiService.cs # For macOS/Linux

mkdir Views\Confession
type nul > Views\Confession\Create.cshtml # For Windows
# touch Views/Confession/Create.cshtml # For macOS/Linux
type nul > Views\Confession\Advice.cshtml # For Windows
# touch Views/Confession/Advice.cshtml # For macOS/Linux
type nul > Views\Confession\Index.cshtml # For Windows
# touch Views/Confession/Index.cshtml # For macOS/Linux

Add required NuGet packages:

dotnet add package Microsoft.Extensions.Http
dotnet add package Microsoft.Extensions.Configuration.Abstractions
dotnet add package System.Text.Json

Optionally, remove the default Home controller and views for a cleaner project:

del Controllers\HomeController.cs # For Windows
# rm Controllers/HomeController.cs # For macOS/Linux

rmdir /s /q Views\Home # For Windows
# rm -rf Views/Home # For macOS/Linux

API Key Configuration
Open the appsettings.json file in the root of your Whisper project.

Add a Gemini section with your API Key:

{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "Gemini": {
    "ApiKey": "YOUR_GOOGLE_GEMINI_API_KEY"
  }
}

Replace YOUR_GOOGLE_GEMINI_API_KEY with your actual API key.

Update Project Files
Replace the content of the following files with the code provided in the previous responses (ensure you use the latest versions of the code for each file, especially after styling and API changes):

Models/Confession.cs

Services/GeminiApiService.cs

Controllers/ConfessionController.cs (or rename HomeController.cs to this and update)

Views/Confession/Create.cshtml

Views/Confession/Advice.cshtml

Views/Confession/Index.cshtml

Views/Shared/_Layout.cshtml

Program.cs

Crucial Note for _Layout.cshtml: Ensure the @keyframes rule within the <style> block is escaped using @@keyframes or wrapped in Html.Raw() as demonstrated in the final _Layout.cshtml code provided previously, to avoid Razor parsing errors.

Running the Application
Stop any previous running instances of the application. If you encounter file lock errors (Access to the path ... is denied), use Task Manager (Windows) or Activity Monitor (macOS) to terminate any dotnet.exe or Whisper.exe processes. You can also use taskkill /IM Whisper.exe /F in a new terminal window.

Clean the project (important after file changes):

dotnet clean

Build the project:

dotnet build

If you encounter "Out of memory" or "paging file too small" errors, you may need to increase your system's virtual memory (paging file size) and restart your computer.

Run the application:

dotnet run

Open your web browser and navigate to the URL provided in the console (e.g., http://localhost:5204/).

Usage
Confess: On the main page, type your confession into the text area and click "Whisper" to receive AI-generated advice.

Publish: After receiving advice, you'll have the option to "Publish Anonymously" to share your confession and advice with others.

View Confessions: Click "Anonymous Confessions" in the navigation bar to see a list of all publicly shared confessions.

Project Structure
Whisper/
├── Controllers/
│   └── ConfessionController.cs
├── Models/
│   └── Confession.cs
├── Services/
│   └── GeminiApiService.cs
├── Views/
│   ├── Confession/
│   │   ├── Advice.cshtml
│   │   ├── Create.cshtml
│   │   └── Index.cshtml
│   └── Shared/
│       └── _Layout.cshtml
├── appsettings.json
├── appsettings.Development.json
├── Program.cs
└── Whisper.csproj

Future Enhancements
Database Persistence: Replace the in-memory static list of confessions with a proper database (e.g., SQL Server, SQLite) using Entity Framework Core.

User Authentication: Implement user accounts if you wish to allow users to manage their own confessions (though this would reduce anonymity for personal management).

Moderation: Add features for moderating published confessions.

Advanced AI Features: Explore more advanced Gemini API features like sentiment analysis or different advice styles.

Search/Filter: Add functionality to search or filter the anonymous confessions.

Responsive Design: Further optimize the UI for various screen sizes and devices.

<img width="1597" height="748" alt="image one" src="https://github.com/user-attachments/assets/c4804c8b-4676-49fb-83f1-fe77b9424c6c" />
<img width="616" height="521" alt="image 3" src="https://github.com/user-attachments/assets/a9ca7c2f-24f7-489e-84cf-ba61912e6413" />
<img width="1186" height="734" alt="image 2" src="https://github.com/user-attachments/assets/0c3509a3-7a30-432a-b71d-4bb97e13a1f7" />
